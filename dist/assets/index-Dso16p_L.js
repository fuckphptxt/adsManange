var V=Object.defineProperty;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var A=(o,e,t)=>e in o?V(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,D=(o,e)=>{for(var t in e||(e={}))L.call(e,t)&&A(o,t,e[t]);if(w)for(var t of w(e))P.call(e,t)&&A(o,t,e[t]);return o};var h=(o,e,t)=>new Promise((u,m)=>{var p=r=>{try{d(t.next(r))}catch(f){m(f)}},k=r=>{try{d(t.throw(r))}catch(f){m(f)}},d=r=>r.done?u(r.value):Promise.resolve(r.value).then(p,k);d((t=t.apply(o,e)).next())});import{_ as q}from"./componentMap-ntVNUfGj.js";import{u as G}from"./entry/index-DeA-E56H-1712476170604.js";import"./helper-D26ItluK.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BvFAdDEs.js";import{K as R}from"./antd-DeDWztM9.js";import{u as H}from"./index-D4lH302q.js";import"./TableImg.vue_vue_type_style_index_0_lang-D_jLqrrq.js";import"./uuid-D0SLUWHI.js";import"./sortable.esm-CoO8jRpa.js";import{P as O}from"./index-nsw1gsVQ.js";import{V as $}from"./index-BqTCX4sW.js";import{g as b,s as j}from"./system-DR9r84eU.js";import{_ as z}from"./updateModal.vue_vue_type_script_setup_true_lang-BwXsG3h4.js";import{d as K,f as s,r as U,Z as y,a8 as W,a9 as l,k as _,u as c,ac as Z,_ as v,F as T,aa as B,G as I,a0 as S}from"./vue-BsEqlI2B.js";import"./useFormItem-C8SvMC7Y.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-EGd22fob.js";import"./useSortable-B5C7L1iY.js";import"./download-C0dscIFQ.js";import"./base64Conver-bBv-IO2K.js";import"./index-CnUmmaWj.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-BtQnCoXl.js";import"./copyTextToClipboard-CmW_HBj4.js";import"./index-eB2fGItq.js";import"./index-D77yVwLP.js";import"./useWindowSizeFn-dzDjg1EY.js";import"./onMountedOrActivated-DNS7E5S8.js";import"./useContentViewHeight-CYeOqeUw.js";const J=[{title:"ID",field:"id",width:50},{title:"路由名称",field:"key"},{title:"路由path",field:"value"},{title:"操作",slots:{default:"action"},align:"center",width:200}],Q=[{field:"",title:"",slots:{default:"toolbalSlot"},span:4},{field:"search",title:"field0",itemRender:{name:"AInput"},span:4},{span:12,align:"left",className:"!pr-0",itemRender:{name:"AButtonGroup",children:[{props:{type:"primary",content:"查询",htmlType:"submit"},attrs:{class:"mr-2"}},{props:{type:"default",htmlType:"reset",content:"重置"}}]}}],X=(o=[],e="id")=>{const t=[];return o.length<=0?[]:(o.forEach(u=>{t.push(u[e])}),t)},Tt=K({__name:"index",emits:["selectChangeEvent"],setup(o,{emit:e}){const{createMessage:t}=G(),[u,{openModal:m}]=H(),p=s("");s("3"),s(!1),s(!1);const k=s();s();const d=s([]),r=s(""),f=s(""),M=s([]),N=U({id:"VxeTable",keepSource:!0,editConfig:{trigger:"click",mode:"cell",showStatus:!0},columns:J,toolbarConfig:{buttons:[{content:"添加",buttonRender:{name:"AButton",props:{type:"primary",preIcon:"mdi:page-next-outline"},events:{click:()=>{r.value="",p.value="添加",m(!0)}}}}]},formConfig:{enabled:!0,items:Q},height:"auto",proxyConfig:{ajax:{query:g=>h(this,[g],function*({page:a,form:n}){const i=yield b(D({page:a.currentPage,limit:a.pageSize,role_id:3},n));return{items:i.list,total:i.count}}),queryAll:n=>h(this,[n],function*({form:a}){return yield b(a)})}}}),E=a=>[{label:"编辑",onClick:()=>{p.value="编辑路由",r.value=a.id,setTimeout(()=>{m(!0,{name:a.key,path:a.value})},200)}},{label:"删除",color:"error",popConfirm:{title:"是否确认删除？",confirm:()=>h(this,null,function*(){yield j({handle_type:"del",id:a.id}),C(),t.success("删除成功")})}}],F=e,C=()=>h(this,null,function*(){var n;const a=yield b();(n=k.value)==null||n.reloadData(a.list)}),x=a=>{const n=X(a.records);F("selectChangeEvent",n)};return(a,n)=>(y(),W(c(O),{contentFullHeight:"",fixedHeight:"",contentBackground:""},{default:l(()=>[_(c($),Z({ref_key:"tableRef",ref:k},N,{onCheckboxChange:x,onCheckboxAll:x}),{toolbalSlot:l(()=>[]),action:l(({row:g})=>[_(c(q),{outside:"",actions:E(g)},null,8,["actions"])]),routerList:l(({row:g})=>[(y(!0),v(T,null,B(g.route,i=>(y(),v("span",{key:i},[_(c(R),null,{default:l(()=>[I(S(i),1)]),_:2},1024)]))),128))]),allUser:l(({row:g})=>[(y(!0),v(T,null,B(g.user_list,i=>(y(),v("span",{key:i},[_(c(R),{color:"purple"},{default:l(()=>[I(S(i.username),1)]),_:2},1024)]))),128))]),_:1},16),_(z,{password:r.value,title:p.value,onOkFunction:C,onRegister:c(u),mockData:d.value,originalName:f.value,targetId:M.value},null,8,["password","title","onRegister","mockData","originalName","targetId"])]),_:1}))}});export{Tt as default};
