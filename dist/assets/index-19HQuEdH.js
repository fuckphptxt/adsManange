var w=Object.defineProperty;var b=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var v=(a,t,e)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,V=(a,t)=>{for(var e in t||(t={}))P.call(t,e)&&v(a,e,t[e]);if(b)for(var e of b(t))B.call(t,e)&&v(a,e,t[e]);return a};var g=(a,t,e)=>new Promise((x,l)=>{var d=r=>{try{m(e.next(r))}catch(p){l(p)}},f=r=>{try{m(e.throw(r))}catch(p){l(p)}},m=r=>r.done?x(r.value):Promise.resolve(r.value).then(d,f);m((e=e.apply(a,t)).next())});import{_ as E}from"./componentMap-ntVNUfGj.js";import"./entry/index-DeA-E56H-1712476170604.js";import"./helper-D26ItluK.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BvFAdDEs.js";import{ay as R}from"./antd-DeDWztM9.js";import{u as L}from"./index-D4lH302q.js";import"./TableImg.vue_vue_type_style_index_0_lang-D_jLqrrq.js";import"./uuid-D0SLUWHI.js";import"./sortable.esm-CoO8jRpa.js";import{P as M}from"./index-nsw1gsVQ.js";import{vxeTypeColumns as N,vxeTableFormSchema as q,getListId as D}from"./tableData-B5lqcR9T.js";import{V as H}from"./index-BqTCX4sW.js";import{b as y}from"./work-DhQ6FW9u.js";import{_ as O}from"./add-modal.vue_vue_type_script_setup_true_lang-CxFsmIMm.js";import{d as W,f as C,r as $,a7 as j,Z as _,a8 as S,a9 as s,k as h,u,ac as z,_ as A,F as G,aa as I,a0 as Z,G as J,ab as K}from"./vue-BsEqlI2B.js";import"./useFormItem-C8SvMC7Y.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-EGd22fob.js";import"./useSortable-B5C7L1iY.js";import"./download-C0dscIFQ.js";import"./base64Conver-bBv-IO2K.js";import"./index-CnUmmaWj.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-BtQnCoXl.js";import"./copyTextToClipboard-CmW_HBj4.js";import"./index-eB2fGItq.js";import"./index-D77yVwLP.js";import"./useWindowSizeFn-dzDjg1EY.js";import"./onMountedOrActivated-DNS7E5S8.js";import"./useContentViewHeight-CYeOqeUw.js";const Se=W({__name:"index",emits:["selectChangeEvent"],setup(a,{emit:t}){const[e,{openModal:x}]=L(),l=C(),d=C("00:00:00"),f=C(),m=$({id:"VxeTable",keepSource:!0,editConfig:{trigger:"click",mode:"cell",showStatus:!0},columns:N,formConfig:{enabled:!0,items:q},height:"auto",proxyConfig:{ajax:{query:T=>g(this,[T],function*({page:o,form:i}){const n=yield y(V({page:o.currentPage,limit:o.pageSize},i));return{items:n,total:n.count}}),queryAll:i=>g(this,[i],function*({form:o}){return yield y(o)})}}}),r=()=>g(this,null,function*(){var i;const o=yield y({page:1,limit:20});(i=l.value)==null||i.reloadData(o)}),p=o=>[{label:"编辑",onClick:()=>{f.value=o.id,d.value=o.timeout,x(!0)}}],F=t,k=o=>{const i=D(o.records);F("selectChangeEvent",i)};return(o,i)=>{const T=j("a-button");return _(),S(u(M),{contentFullHeight:"",fixedHeight:""},{default:s(()=>[h(u(H),z({ref_key:"tableRef",ref:l},m,{onCheckboxChange:k,onCheckboxAll:k}),{toolbalSlot:s(()=>[]),action:s(({row:n})=>[h(u(E),{outside:"",actions:p(n)},null,8,["actions"])]),logSlot:s(({row:n})=>[h(u(R),{title:"Title"},{content:s(()=>[(_(!0),A(G,null,I(n.exec_log,c=>(_(),A("p",{key:c},Z(c),1))),128))]),default:s(()=>{var c;return[((c=n.exec_log)==null?void 0:c.length)>0?(_(),S(T,{key:0,type:"primary"},{default:s(()=>[J("查看日志")]),_:1})):K("",!0)]}),_:2},1024)]),_:1},16),h(O,{title:"设置每一步超时时间",onRegister:u(e),timeValue:d.value,onOkFunction:r,accid:f.value},null,8,["onRegister","timeValue","accid"])]),_:1})}}});export{Se as default};
