var M=Object.defineProperty;var v=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var b=(r,t,e)=>t in r?M(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,V=(r,t)=>{for(var e in t||(t={}))P.call(t,e)&&b(r,e,t[e]);if(v)for(var e of v(t))B.call(t,e)&&b(r,e,t[e]);return r};var p=(r,t,e)=>new Promise((C,g)=>{var f=n=>{try{l(e.next(n))}catch(m){g(m)}},h=n=>{try{l(e.throw(n))}catch(m){g(m)}},l=n=>n.done?C(n.value):Promise.resolve(n.value).then(f,h);l((e=e.apply(r,t)).next())});import{_ as E}from"./componentMap-ntVNUfGj.js";import{u as L}from"./entry/index-DeA-E56H-1712476170604.js";import"./helper-D26ItluK.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BvFAdDEs.js";import{ay as R,a9 as N}from"./antd-DeDWztM9.js";import{u as U}from"./index-D4lH302q.js";import"./TableImg.vue_vue_type_style_index_0_lang-D_jLqrrq.js";import"./uuid-D0SLUWHI.js";import"./sortable.esm-CoO8jRpa.js";import{P as W}from"./index-nsw1gsVQ.js";import{vxeTypeColumns as $,vxeTableFormSchema as z,getListId as D}from"./tableData-B5lqcR9T.js";import{V as H}from"./index-BqTCX4sW.js";import{g as y,s as O}from"./work-DhQ6FW9u.js";import{_ as j}from"./add-modal.vue_vue_type_script_setup_true_lang-D1Mt8z1c.js";import{d as G,f as _,r as I,a7 as Z,Z as k,a8 as S,a9 as c,k as d,u,ac as J,_ as T,F as K,aa as Q,a0 as X,G as Y,ab as ee}from"./vue-BsEqlI2B.js";import"./useFormItem-C8SvMC7Y.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-EGd22fob.js";import"./useSortable-B5C7L1iY.js";import"./download-C0dscIFQ.js";import"./base64Conver-bBv-IO2K.js";import"./index-CnUmmaWj.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-BtQnCoXl.js";import"./copyTextToClipboard-CmW_HBj4.js";import"./index-eB2fGItq.js";import"./index-D77yVwLP.js";import"./useWindowSizeFn-dzDjg1EY.js";import"./onMountedOrActivated-DNS7E5S8.js";import"./useContentViewHeight-CYeOqeUw.js";const Fe=G({__name:"index",emits:["selectChangeEvent"],setup(r,{emit:t}){const{createMessage:e}=L();_(!1);const[C,{openModal:g}]=U(),f=_(),h=_("00:00:00"),l=_(),n=I({id:"VxeTable",keepSource:!0,editConfig:{trigger:"click",mode:"cell",showStatus:!0},columns:$,formConfig:{enabled:!0,items:z},height:"auto",proxyConfig:{ajax:{query:F=>p(this,[F],function*({page:a,form:s}){const o=yield y(V({page:a.currentPage,limit:a.pageSize},s));return{items:o,total:o.count}}),queryAll:s=>p(this,[s],function*({form:a}){return yield y()})}}}),m=()=>p(this,null,function*(){var s;const a=yield y();(s=f.value)==null||s.reloadData(a)}),q=a=>[{label:"编辑",onClick:()=>{l.value=a.id,h.value=a.timeout,g(!0)}}],A=t,w=a=>p(this,null,function*(){yield O({id:a}),e.success("修改成功"),m()}),x=a=>{const s=D(a.records);A("selectChangeEvent",s)};return(a,s)=>{const F=Z("a-button");return k(),S(u(W),{contentFullHeight:"",fixedHeight:""},{default:c(()=>[d(u(H),J({ref_key:"tableRef",ref:f},n,{onCheckboxChange:x,onCheckboxAll:x}),{toolbalSlot:c(()=>[]),action:c(({row:o})=>[d(u(E),{outside:"",actions:q(o)},null,8,["actions"])]),logSlot:c(({row:o})=>[d(u(R),{title:"Title"},{content:c(()=>[(k(!0),T(K,null,Q(o.exec_log,i=>(k(),T("p",{key:i},X(i),1))),128))]),default:c(()=>{var i;return[((i=o.exec_log)==null?void 0:i.length)>0?(k(),S(F,{key:0,type:"primary"},{default:c(()=>[Y("查看日志")]),_:1})):ee("",!0)]}),_:2},1024)]),unique:c(({row:o})=>[d(u(N),{size:"small","checked-children":"是","un-checked-children":"否",checkedValue:1,unCheckedValue:0,checked:o.unique,"onUpdate:checked":i=>o.unique=i,onChange:i=>w(o.id)},null,8,["checked","onUpdate:checked","onChange"])]),_:1},16),d(j,{title:"设置每一步超时时间",onRegister:u(C),timeValue:h.value,onOkFunction:m,accid:l.value},null,8,["onRegister","timeValue","accid"])]),_:1})}}});export{Fe as default};
